<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Giuseppe Guadagnini 1785</title>
  <style>
    @font-face { font-family: "Academy Engraved LET"; src: local("Academy Engraved LET"), local("AcademyEngravedLetPlain"); }
    :root { --bg:#ffffff; --text:#3a2c23; --accent:#d7b877; }
    *{box-sizing:border-box;}
    body{margin:0;font-family:"Academy Engraved LET",serif;background-color:var(--bg);color:var(--text);display:flex;flex-direction:column;align-items:center;min-height:100vh;}
    h1{margin:30px 0 10px;font-weight:400;}
    #passwordPrompt{background:white;padding:24px 32px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.08);margin-top:120px;text-align:center;}
    input[type="password"]{padding:10px 16px;font-size:1rem;border:1px solid #ccc;border-radius:8px;outline:none;margin:10px 0;transition:border-color 0.2s;}
    input[type="password"]:focus{border-color:#888;}
    button{background-color:#333;color:white;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;font-size:1rem;transition:background-color 0.2s;}
    button:hover{background-color:#555;}
    #error{color:#d33;margin-top:10px;}
    #viewer{width:90vw;height:75vh;background-color:#f5f5f5;border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,0.1);display:none;overflow:hidden;}
    #thumbnailBar{display:none;width:90vw;margin:16px 0;display:flex;justify-content:center;flex-wrap:wrap;gap:8px;}
    .thumb{width:100px;height:100px;border-radius:8px;overflow:hidden;cursor:pointer;opacity:0.8;transition:transform 0.2s, opacity 0.2s;}
    .thumb:hover{transform:scale(1.05);opacity:1;}
    .thumb.active{outline:3px solid #333;opacity:1;}
    .thumb img{width:100%;height:100%;object-fit:cover;}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/openseadragon@4.1.0/build/openseadragon/openseadragon.min.js"></script>
</head>
<body>

  <h1>Giuseppe Guadagnini 1785</h1>

  <div id="passwordPrompt">
    <h2>Password required</h2>
    <input type="password" id="passwordInput" placeholder="Enter password">
    <br>
    <button id="passwordButton">Submit</button>
    <p id="error"></p>
  </div>

  <div id="viewer"></div>
  <div id="thumbnailBar"></div>

  <script>
    const correctPassword = "yumamurata";
    const passwordButton = document.getElementById("passwordButton");

    passwordButton.addEventListener("click", function(){
      const input = document.getElementById("passwordInput").value;
      if(input === correctPassword){
        document.getElementById("passwordPrompt").style.display="none";
        document.getElementById("viewer").style.display="block";
        document.getElementById("thumbnailBar").style.display="flex";

        const viewer = OpenSeadragon({
          id:"viewer",
          prefixUrl:"https://cdn.jsdelivr.net/npm/openseadragon@4.1.0/build/openseadragon/images/",
          showNavigator:true,
          navigatorPosition:"BOTTOM_RIGHT",
          defaultZoomLevel:1,
          minZoomLevel:0.5,
          maxZoomLevel:20,
          tileSources:"giuseppe-guadagnini-1785-vn-01_tiles.dzi"
        });

        const thumbnailBar = document.getElementById("thumbnailBar");
        for(let i=1;i<=8;i++){
          const num=("0"+i).slice(-2);
          const thumb=document.createElement("div");
          thumb.className="thumb";
          const img=document.createElement("img");
          img.src=`giuseppe-guadagnini-1785-01-thumb${i}.jpg`;
          thumb.appendChild(img);
          thumb.addEventListener("click", function(){
            viewer.open("giuseppe-guadagnini-1785-vn-01_tiles.dzi");
            document.querySelectorAll(".thumb").forEach(t=>t.classList.remove("active"));
            thumb.classList.add("active");
          });
          if(i===1) thumb.classList.add("active");
          thumbnailBar.appendChild(thumb);
        }

      } else {
        document.getElementById("error").innerText="Incorrect password";
      }
    });
  </script>

</body>
</html>
