<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Instrument Archive</title>
  <style>
    @font-face { font-family: "Academy Engraved LET"; src: local("Academy Engraved LET"), local("AcademyEngravedLetPlain"); }
    :root { --bg:#ffffff; --text:#3a2c23; --accent:#d7b877; }
    *{box-sizing:border-box;}
    body{margin:0;font-family:"Academy Engraved LET",serif;background-color:var(--bg);color:var(--text);display:flex;flex-direction:column;align-items:center;min-height:100vh;}
    h1{margin:30px 0 10px;font-weight:400;}
    #passwordPrompt{background:white;padding:24px 32px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.08);margin-top:120px;text-align:center;}
    input[type="password"]{padding:10px 16px;font-size:1rem;border:1px solid #ccc;border-radius:8px;outline:none;margin:10px 0;transition:border-color 0.2s;}
    input[type="password"]:focus{border-color:#888;}
    button{background-color:#333;color:white;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;font-size:1rem;transition:background-color 0.2s;}
    button:hover{background-color:#555;}
    #error{color:#d33;margin-top:10px;}
    #thumbnailBar{display:none;width:90vw;margin:16px 0;display:flex;justify-content:center;flex-wrap:wrap;gap:8px;}
    .thumb{width:100px;height:100px;border-radius:8px;overflow:hidden;cursor:pointer;opacity:0.8;transition:transform 0.2s, opacity 0.2s;}
    .thumb:hover{transform:scale(1.05);opacity:1;}
    .thumb.active{outline:3px solid #333;opacity:1;}
    .thumb img{width:100%;height:100%;object-fit:cover;}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/openseadragon@4.1.0/build/openseadragon/openseadragon.min.js"></script>
</head>
<body>

<h1>Instrument Archive</h1>

<div id="passwordPrompt">
  <h2>Password required</h2>
  <input type="password" id="passwordInput" placeholder="Enter password">
  <br>
  <button id="passwordButton">Submit</button>
  <p id="error"></p>
</div>

<div id="viewer"></div>
<div id="thumbnailBar"></div>

<script>
  const correctPassword = "yumamurata";
  const passwordButton = document.getElementById("passwordButton");

  passwordButton.addEventListener("click", function() {
    const input = document.getElementById("passwordInput").value;
    if(input === correctPassword) {
      document.getElementById("passwordPrompt").style.display = "none";
      document.getElementById("viewer").style.display = "block";
      document.getElementById("thumbnailBar").style.display = "flex";

      // OpenSeadragon Viewer は個別ページで開くため、ここではトップページにサムネのみ表示
      // 各サムネイルクリックで個別ページに飛ばす
      const thumbnailBar = document.getElementById("thumbnailBar");

      const instruments = [
        {name:"Giuseppe Guadagnini 1785", html:"giuseppe-guadagnini-1785-01.html", thumb:"giuseppe-guadagnini-1785-01-thumb1.jpg"},
        {name:"Nicolo Amati 1673", html:"nicolo-amati-1673-01.html", thumb:"nicolo-amati-1673-01-thumb1.jpg"}
      ];

      instruments.forEach(inst => {
        const thumb = document.createElement("div");
        thumb.className = "thumb";
        const img = document.createElement("img");
        img.src = inst.thumb;
        thumb.appendChild(img);

        thumb.addEventListener("click", function(){
          window.location.href = inst.html;
        });

        thumbnailBar.appendChild(thumb);
      });

    } else {
      document.getElementById("error").innerText = "Incorrect password";
    }
  });
</script>

</body>
</html>
