<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Nicolo Amati 1673</title>
  <script src="https://cdn.jsdelivr.net/npm/openseadragon@4.1.0/build/openseadragon/openseadragon.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Inter',sans-serif; margin:0; background:#fafafa; color:#333; display:flex; flex-direction:column; align-items:center; min-height:100vh;}
    h1 { margin:30px 0 10px; font-weight:400; }
    #viewer { width:90vw; height:75vh; background:#e5e5e5; border-radius:16px; box-shadow:0 4px 16px rgba(0,0,0,0.1); display:none; overflow:hidden;}
    #passwordPrompt { background:white; padding:24px 32px; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.08); margin-top:120px; text-align:center;}
    input[type="password"] { padding:10px 16px; font-size:1rem; border:1px solid #ccc; border-radius:8px; outline:none; margin:10px 0; }
    button { background:#333; color:white; border:none; padding:10px 20px; border-radius:8px; cursor:pointer; }
    button:hover { background:#555; }
    #error { color:#d33; margin-top:10px; }
    #thumbnailBar { display:none; width:90vw; margin:16px 0; flex-wrap:wrap; justify-content:center; gap:8px; overflow-x:auto;}
    .thumb { flex:0 0 auto; width:100px; height:100px; border-radius:8px; overflow:hidden; cursor:pointer; opacity:0.8; transition:0.2s; }
    .thumb:hover { transform:scale(1.05); opacity:1; }
    .thumb.active { outline:3px solid #333; opacity:1; }
    .thumb img { width:100%; height:100%; object-fit:cover; }
  </style>
</head>
<body>

<h1>Nicolo Amati 1673</h1>

<div id="passwordPrompt">
  <h2>Password required</h2>
  <input type="password" id="passwordInput" placeholder="Enter password"><br>
  <button id="passwordButton">Submit</button>
  <p id="error"></p>
</div>

<div id="viewer"></div>
<div id="thumbnailBar"></div>

<script>
const correctPassword = "yumamurata";

document.getElementById("passwordButton").addEventListener("click", function() {
  const input = document.getElementById("passwordInput").value;
  if(input === correctPassword){
    document.getElementById("passwordPrompt").style.display = "none";
    document.getElementById("viewer").style.display = "block";
    document.getElementById("thumbnailBar").style.display = "flex";

    const viewer = OpenSeadragon({
      id: "viewer",
      prefixUrl: "https://cdn.jsdelivr.net/npm/openseadragon@4.1.0/build/openseadragon/images/",
      showNavigator:true,
      navigatorPosition:"BOTTOM_RIGHT",
      defaultZoomLevel:1,
      minZoomLevel:0.5,
      maxZoomLevel:20,
      tileSources: `nicolo-amati-1673-01-01_tiles.dzi`
    });

    const thumbnailBar = document.getElementById("thumbnailBar");
    for(let i=1;i<=8;i++){
      const num = String(i).padStart(2,'0');
      const thumb = document.createElement("div");
      thumb.className="thumb";
      const img = document.createElement("img");
      img.src = `nicolo-amati-1673-01-${num}_tiles_files/0/0_0.jpg`;
      thumb.appendChild(img);
      thumb.addEventListener("click", function(){
        viewer.open(`nicolo-amati-1673-01-${num}_tiles.dzi`);
        document.querySelectorAll(".thumb").forEach(t=>t.classList.remove("active"));
        thumb.classList.add("active");
      });
      if(i===1) thumb.classList.add("active");
      thumbnailBar.appendChild(thumb);
    }

  } else {
    document.getElementById("error").innerText="Incorrect password";
  }
});
</script>

</body>
</html>
